<!--
  Created by Cursor

  This is a custom event layout for the event single page.
  It is used to display the event details and resources.
  It is based on the default event layout, but with some customizations.
  It is used to display the event details and resources.
-->
{{ define "main" }}

{{ if .Params.sections }}
  {{ range .Params.sections }}
    {{ partial "blocks/block" (dict "block" . "page" $) }}
  {{ end }}
{{ else }}
  <!-- Default event layout -->
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        
        <!-- Event header -->
        <header class="mb-4">
          <h1 class="mb-3">{{ .Title }}</h1>
          
          {{ if .Params.event }}
            <h3 class="text-muted mb-3">{{ .Params.event }}</h3>
          {{ end }}
          
          {{ if .Params.date }}
            <p class="text-muted">
              <i class="fas fa-calendar-alt me-2"></i>
              {{ .Date.Format "January 2, 2006" }}
            </p>
          {{ end }}
          
          {{ if .Params.location }}
            <p class="text-muted">
              <i class="fas fa-map-marker-alt me-2"></i>
              {{ .Params.location }}
            </p>
          {{ end }}
          
          {{ if .Params.address }}
            <p class="text-muted">
              <i class="fas fa-building me-2"></i>
              {{ .Params.address.street }}, {{ .Params.address.city }}, {{ .Params.address.country }}
            </p>
          {{ end }}
        </header>
        
        <!-- Event image -->
        {{ if .Params.image }}
          <div class="mb-4">
            <img src="{{ .Params.image.filename | default .Params.image }}" 
                 class="img-fluid rounded" 
                 alt="{{ .Params.image.caption | default .Title }}"
                 style="max-height: 400px; object-fit: cover;">
            {{ if .Params.image.caption }}
              <p class="text-muted text-center mt-2"><small>{{ .Params.image.caption }}</small></p>
            {{ end }}
          </div>
        {{ end }}
        
        <!-- Event content -->
        <div class="event-content">
          {{ if .Params.abstract }}
            <div class="mb-4">
              <h4>Abstract</h4>
              <p>{{ .Params.abstract }}</p>
            </div>
          {{ end }}
          
          {{ .Content }}
        </div>
        
        <!-- Event links -->
        {{ if or .Params.url_slides .Params.url_video .Params.url_pdf .Params.url_code }}
          <div class="mt-4">
            <h4>Resources</h4>
            <div class="d-flex flex-wrap gap-2">
              {{ if .Params.url_slides }}
                <a href="{{ .Params.url_slides }}" class="btn btn-primary" target="_blank">
                  <i class="fas fa-presentation me-2"></i>Slides
                </a>
              {{ end }}
              {{ if .Params.url_video }}
                <a href="{{ .Params.url_video }}" class="btn btn-success" target="_blank">
                  <i class="fas fa-video me-2"></i>Video
                </a>
              {{ end }}
              {{ if .Params.url_pdf }}
                <a href="{{ .Params.url_pdf }}" class="btn btn-info" target="_blank">
                  <i class="fas fa-file-pdf me-2"></i>PDF
                </a>
              {{ end }}
              {{ if .Params.url_code }}
                <a href="{{ .Params.url_code }}" class="btn btn-secondary" target="_blank">
                  <i class="fas fa-code me-2"></i>Code
                </a>
              {{ end }}
            </div>
          </div>
        {{ end }}
        
        <!-- Authors -->
        {{ if .Params.authors }}
          <div class="mt-4">
            <h4>Authors</h4>
            <div class="d-flex flex-wrap gap-2">
              {{ range .Params.authors }}
                <span class="badge bg-light text-dark">{{ . }}</span>
              {{ end }}
            </div>
          </div>
        {{ end }}
        
        <!-- Tags -->
        {{ if .Params.tags }}
          <div class="mt-4">
            <h4>Tags</h4>
            <div class="d-flex flex-wrap gap-2">
              {{ range .Params.tags }}
                <span class="badge bg-primary">{{ . }}</span>
              {{ end }}
            </div>
          </div>
        {{ end }}
        
      </div>
    </div>
  </div>
{{ end }}

{{ end }} 